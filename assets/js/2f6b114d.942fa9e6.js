"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[94141],{15680:(e,a,t)=>{t.d(a,{xA:()=>y,yg:()=>m});var n=t(96540);function p(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){p(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,p=function(e,a){if(null==e)return{};var t,n,p={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(p[t]=e[t]);return p}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var l=n.createContext({}),i=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},y=function(e){var a=i(e.components);return n.createElement(l.Provider,{value:a},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,p=e.mdxType,r=e.originalType,l=e.parentName,y=s(e,["components","mdxType","originalType","parentName"]),g=i(t),d=p,m=g["".concat(l,".").concat(d)]||g[d]||c[d]||r;return t?n.createElement(m,o(o({ref:a},y),{},{components:t})):n.createElement(m,o({ref:a},y))}));function m(e,a){var t=arguments,p=a&&a.mdxType;if("string"==typeof e||p){var r=t.length,o=new Array(r);o[0]=d;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s[g]="string"==typeof e?e:p,o[1]=s;for(var i=2;i<r;i++)o[i]=t[i];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},97851:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>F,contentTitle:()=>u,default:()=>E,frontMatter:()=>m,metadata:()=>h,toc:()=>N});var n=t(15680),p=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,y=(e,a,t)=>a in e?p(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,g=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&y(e,t,a[t]);if(s)for(var t of s(a))i.call(a,t)&&y(e,t,a[t]);return e},c=(e,a)=>r(e,o(a)),d=(e,a)=>{var t={};for(var n in e)l.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&s)for(var n of s(e))a.indexOf(n)<0&&i.call(e,n)&&(t[n]=e[n]);return t};const m={},u="fluentbit",h={unversionedId:"tql2/operators/fluentbit",id:"tql2/operators/fluentbit",title:"fluentbit",description:"Sends and receives events via Fluent Bit.",source:"@site/docs/tql2/operators/fluentbit.md",sourceDirName:"tql2/operators",slug:"/tql2/operators/fluentbit",permalink:"/next/tql2/operators/fluentbit",draft:!1,editUrl:"https://github.com/tenzir/tenzir/tree/main/web/docs/tql2/operators/fluentbit.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"files",permalink:"/next/tql2/operators/files"},next:{title:"fork",permalink:"/next/tql2/operators/fork"}},F={},N=[{value:"Description",id:"description",level:2},{value:"<code>plugin: string</code>",id:"plugin-string",level:3},{value:"<code>fluent_bit_options = record (optional)</code>",id:"fluent_bit_options--record-optional",level:3},{value:"<code>options = record (optional)</code>",id:"options--record-optional",level:3},{value:"<code>merge = bool (optional)</code>",id:"merge--bool-optional",level:3},{value:"<code>raw = bool (optional)</code>",id:"raw--bool-optional",level:3},{value:"<code>schema = string (optional)</code>",id:"schema--string-optional",level:3},{value:"<code>selector = string (optional)</code>",id:"selector--string-optional",level:3},{value:"<code>schema_only = bool (optional)</code>",id:"schema_only--bool-optional",level:3},{value:"<code>unflatten = string (optional)</code>",id:"unflatten--string-optional",level:3},{value:"Examples",id:"examples",level:2},{value:"Ingest OpenTelemetry logs, metrics, and traces",id:"ingest-opentelemetry-logs-metrics-and-traces",level:3},{value:"Imitate a Splunk HEC endpoint",id:"imitate-a-splunk-hec-endpoint",level:3},{value:"Imitate an ElasticSearch &amp; OpenSearch Bulk API endpoint",id:"imitate-an-elasticsearch--opensearch-bulk-api-endpoint",level:3},{value:"Send to Slack",id:"send-to-slack",level:3},{value:"Send to Splunk",id:"send-to-splunk",level:3},{value:"Send ElasticSearch",id:"send-elasticsearch",level:3}],f={toc:N},b="wrapper";function E(e){var a=e,{components:t}=a,p=d(a,["components"]);return(0,n.yg)(b,c(g(g({},f),p),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",g({},{id:"fluentbit"}),"fluentbit"),(0,n.yg)("p",null,"Sends and receives events via ",(0,n.yg)("a",g({parentName:"p"},{href:"https://docs.fluentbit.io/"}),"Fluent Bit"),"."),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," plugin"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"string, [options"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"record, fluent_bit_options"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"record, schema"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"string, selector"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"string, schema_only"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"bool, merge"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"bool, raw"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"bool, unflatten"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"string]"))))),(0,n.yg)("h2",g({},{id:"description"}),"Description"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"fluentbit")," operator acts as a bridge into the Fluent Bit ecosystem,\nmaking it possible to acquire events from a Fluent Bit ",(0,n.yg)("a",g({parentName:"p"},{href:"https://docs.fluentbit.io/manual/pipeline/inputs"}),"input plugin"),"\nand process events with a Fluent Bit ",(0,n.yg)("a",g({parentName:"p"},{href:"https://docs.fluentbit.io/manual/pipeline/outputs"}),"output plugin"),"."),(0,n.yg)("p",null,"Syntactically, the ",(0,n.yg)("inlineCode",{parentName:"p"},"fluentbit")," operator behaves similar to an invocation of the\n",(0,n.yg)("inlineCode",{parentName:"p"},"fluent-bit")," command line utility. For example, the invocation"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"bash","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"bash","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FFA657"}}),"fluent-bit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," -o"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}})," plugin"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," -p"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}})," key1=value1"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," -p"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}})," key2=value2"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," -p"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}})," ..."))))),(0,n.yg)("p",null,"translates to our ",(0,n.yg)("inlineCode",{parentName:"p"},"fluent-bit")," operator as follows:"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "plugin"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"..."))))),(0,n.yg)("h3",g({},{id:"plugin-string"}),(0,n.yg)("inlineCode",{parentName:"h3"},"plugin: string")),(0,n.yg)("p",null,"The name of the Fluent Bit plugin."),(0,n.yg)("p",null,"Run ",(0,n.yg)("inlineCode",{parentName:"p"},"fluent-bit -h")," cli  and look under the ",(0,n.yg)("strong",{parentName:"p"},"Inputs")," and ",(0,n.yg)("strong",{parentName:"p"},"Outputs")," section of the\nhelp text for available plugin names. The web documentation often comes with an\nexample invocation near the bottom of the page, which also provides a good idea\nhow you could use the operator."),(0,n.yg)("h3",g({},{id:"fluent_bit_options--record-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"fluent_bit_options = record (optional)")),(0,n.yg)("p",null,"A record of the global properties of the Fluent Bit service."),(0,n.yg)("p",null,"Consult the list of available ",(0,n.yg)("a",g({parentName:"p"},{href:"https://docs.fluentbit.io/manual/administration/configuring-fluent-bit/classic-mode/configuration-file#config_section"}),"key-value pairs")," to configure\nFluent Bit according to your needs."),(0,n.yg)("p",null,"We recommend factoring these options into the plugin-specific ",(0,n.yg)("inlineCode",{parentName:"p"},"fluent-bit.yaml"),"\nso that they are independent of the operator arguments."),(0,n.yg)("h3",g({},{id:"options--record-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"options = record (optional)")),(0,n.yg)("p",null,"A record of the plugin configuration properties. Equivalent to setting each\nproperty with ",(0,n.yg)("inlineCode",{parentName:"p"},"-p key=value")," on the command line."),(0,n.yg)("h3",g({},{id:"merge--bool-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"merge = bool (optional)")),(0,n.yg)("p",null,"Merges all incoming events into a single schema","*"," that converges over time. This\noption is usually the fastest ",(0,n.yg)("em",{parentName:"p"},"for reading")," highly heterogeneous data, but can lead\nto huge schemas filled with nulls and imprecise results. Use with caution."),(0,n.yg)("p",null,"*",": In selector mode, only events with the same selector are merged."),(0,n.yg)("p",null,"This option can not be combined with ",(0,n.yg)("inlineCode",{parentName:"p"},"raw=true, schema=<schema>"),"."),(0,n.yg)("h3",g({},{id:"raw--bool-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"raw = bool (optional)")),(0,n.yg)("p",null,"Use only the raw types that are native to the parsed format. Fields that have a type\nspecified in the chosen schema will still be parsed according to the schema."),(0,n.yg)("p",null,"For example, the JSON format has no notion of an IP address, so this will cause all IP addresses\nto be parsed as strings, unless the field is specified to be an IP address by the schema.\nJSON however has numeric types, so those would be parsed."),(0,n.yg)("p",null,"Use with caution."),(0,n.yg)("p",null,"This option can not be combined with ",(0,n.yg)("inlineCode",{parentName:"p"},"merge=true, schema=<schema>"),"."),(0,n.yg)("h3",g({},{id:"schema--string-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"schema = string (optional)")),(0,n.yg)("p",null,"Provide the name of a schema to be used by the parser. If the schema uses the\n",(0,n.yg)("inlineCode",{parentName:"p"},"blob")," type, then the JSON parser expects base64-encoded strings."),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"schema")," option is incompatible with the ",(0,n.yg)("inlineCode",{parentName:"p"},"selector")," option."),(0,n.yg)("h3",g({},{id:"selector--string-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"selector = string (optional)")),(0,n.yg)("p",null,"Designates a field value as schema name with an optional dot-separated prefix."),(0,n.yg)("p",null,"For example, the Suricata EVE JSON format includes a field\n",(0,n.yg)("inlineCode",{parentName:"p"},"event_type")," that contains the event type. Setting the selector to\n",(0,n.yg)("inlineCode",{parentName:"p"},"event_type:suricata")," causes an event with the value ",(0,n.yg)("inlineCode",{parentName:"p"},"flow")," for the field\n",(0,n.yg)("inlineCode",{parentName:"p"},"event_type")," to map onto the schema ",(0,n.yg)("inlineCode",{parentName:"p"},"suricata.flow"),"."),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"selector")," option is incompatible with the ",(0,n.yg)("inlineCode",{parentName:"p"},"schema")," option."),(0,n.yg)("h3",g({},{id:"schema_only--bool-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"schema_only = bool (optional)")),(0,n.yg)("p",null,"When working with an existing schema, this option will ensure that the output\nschema has ",(0,n.yg)("em",{parentName:"p"},"only")," the fields from that schema. If the schema name is obtained via a ",(0,n.yg)("inlineCode",{parentName:"p"},"selector"),"\nand it does not exist, this has no effect."),(0,n.yg)("p",null,"This option requires either ",(0,n.yg)("inlineCode",{parentName:"p"},"schema")," or ",(0,n.yg)("inlineCode",{parentName:"p"},"selector")," to be set."),(0,n.yg)("h3",g({},{id:"unflatten--string-optional"}),(0,n.yg)("inlineCode",{parentName:"h3"},"unflatten = string (optional)")),(0,n.yg)("p",null,"A delimiter that, if present in keys, causes values to be treated as values of\nnested records."),(0,n.yg)("p",null,"A popular example of this is the ",(0,n.yg)("a",g({parentName:"p"},{href:"/next/tql2/operators/read_zeek_json"}),"Zeek JSON")," format. It includes\nthe fields ",(0,n.yg)("inlineCode",{parentName:"p"},"id.orig_h"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"id.orig_p"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"id.resp_h"),", and ",(0,n.yg)("inlineCode",{parentName:"p"},"id.resp_p")," at the\ntop-level. The data is best modeled as an ",(0,n.yg)("inlineCode",{parentName:"p"},"id")," record with four nested fields\n",(0,n.yg)("inlineCode",{parentName:"p"},"orig_h"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"orig_p"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"resp_h"),", and ",(0,n.yg)("inlineCode",{parentName:"p"},"resp_p"),"."),(0,n.yg)("p",null,"Without an unflatten separator, the data looks like this:"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"{")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"  id"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"orig_h"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 1.1"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"1.1"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),",")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"  id"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"orig_p"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 10"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),",")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"  id"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"resp_h"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 1.1"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"1.2"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),",")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"  id"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"resp_p"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 5"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),",")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"}"))))),(0,n.yg)("p",null,"With the unflatten separator set to ",(0,n.yg)("inlineCode",{parentName:"p"},"."),", Tenzir reads the events like this:"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"json","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"json","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"{")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#7EE787"}}),'  "id"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),": {")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#7EE787"}}),'    "orig_h"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),": "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),'"1.1.1.1"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),",")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#7EE787"}}),'    "orig_p"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),": "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"10"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),",")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#7EE787"}}),'    "resp_h"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),": "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),'"1.1.1.2"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),",")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#7EE787"}}),'    "resp_p"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),": "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"5")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"  }")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"}"))))),(0,n.yg)("h2",g({},{id:"examples"}),"Examples"),(0,n.yg)("h3",g({},{id:"ingest-opentelemetry-logs-metrics-and-traces"}),"Ingest OpenTelemetry logs, metrics, and traces"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "opentelemetry"'))))),(0,n.yg)("p",null,"You can then send JSON-encoded log data to a freshly created API endpoint:"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"bash","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"bash","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FFA657"}}),"curl"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}})," \\")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"  --header"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "Content-Type: application/json"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}})," \\")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"  --request"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}})," POST"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}})," \\")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"  --data"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' \'{"resourceLogs":[{"resource":{},"scopeLogs":[{"scope":{},"logRecords":[{"timeUnixNano":"1660296023390371588","body":{"stringValue":"{\\"message\\":\\"dummy\\"}"},"traceId":"","spanId":""}]}]}]}\''),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}})," \\")),"\n",(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),"  http://0.0.0.0:4318/v1/logs"))))),(0,n.yg)("h3",g({},{id:"imitate-a-splunk-hec-endpoint"}),"Imitate a Splunk HEC endpoint"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "splunk"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", options "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," { port"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 8088"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," }"))))),(0,n.yg)("h3",g({},{id:"imitate-an-elasticsearch--opensearch-bulk-api-endpoint"}),"Imitate an ElasticSearch & OpenSearch Bulk API endpoint"),(0,n.yg)("p",null,"This allows you to ingest from beats (e.g., Filebeat, Metricbeat, Winlogbeat)."),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "elasticsearch"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", options "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," { port"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 9200"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," }"))))),(0,n.yg)("h3",g({},{id:"send-to-slack"}),"Send to Slack"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "slack"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", options "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," { webhook"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," }"))))),(0,n.yg)("h3",g({},{id:"send-to-splunk"}),"Send to Splunk"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "splunk"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", options "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," { host"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"127.0"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"0.1"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", port"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 8088"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", tls"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),'"on"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", tls"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"verify"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"=:"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),"off"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),'", splunk_token:"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"11111111"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"-"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"2222"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"-"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"3333"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"-"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"4444"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"-"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"555555555555"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),'" }'))))),(0,n.yg)("h3",g({},{id:"send-elasticsearch"}),"Send ElasticSearch"),(0,n.yg)("figure",g({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",g({parentName:"figure"},{tabIndex:0,"data-language":"tql","data-theme":"github-dark-default"}),(0,n.yg)("code",g({parentName:"pre"},{"data-language":"tql","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",g({parentName:"code"},{"data-line":""}),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#D2A8FF"}}),"fluentbit"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "es"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", options "),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"="),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," { host"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 192.168"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),"."),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}}),"2.3"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", port"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#79C0FF"}})," 9200"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", index"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "my_index"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}}),", type"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#FF7B72"}}),":"),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#A5D6FF"}}),' "my_type"'),(0,n.yg)("span",g({parentName:"span"},{style:{color:"#E6EDF3"}})," }"))))))}E.isMDXComponent=!0}}]);